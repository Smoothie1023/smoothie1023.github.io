{"componentChunkName":"component---src-templates-post-js","path":"/blogs/2023-11-19-DiscordBotCommandsOption","result":{"data":{"markdownRemark":{"html":"<h2 class=\"sticky_note\">\r\n動作環境\r\n</h2>\n<ul>\n<li>Python 3.11.3</li>\n<li>discord.py 2.3.2</li>\n</ul>\n<h2 class=\"sticky_note\">\r\nコマンドオプションとは\r\n</h2>\n<p><a href=\"/blogs/2023-11-15-DiscordBotInit\" class=\"link\" title=\"DiscordBotのテンプレート記事リンク\" >DisocrdBotのテンプレート</a>\r\nでは<code class=\"language-text\">/test</code>というコマンドを作成しました。<br>\nこのコマンドは<code class=\"language-text\">/test</code>で使用できBotが<code class=\"language-text\">test!</code>と返すというものでした。<br>\nただ、コマンドを作成する上で何かユーザーに選択肢を与えたいときがあります。</p>\n<p>たとえば、じゃんけんBotを作りたいときに、<code class=\"language-text\">/janken</code>というコマンドを作成し、Botが手を返すだけではゲームとして成り立ちません。<br>\nじゃんけんである以上ユーザーが何を出すかの選択が欲しいですよね？</p>\n<p>このようなときに使用するのが<span class=\"highlighter_yellow\">コマンドオプション</span>です。</p>\n<h2 class=\"sticky_note\">\r\nコマンドオプションの作成\r\n</h2>\n<p>せっかくなのでじゃんけんBotを作成してみましょう！と言いたいところですが、<br>\nまずは<span class=\"highlighter_yellow\">簡単なコマンドオプション</span>を作成してみましょう。</p>\n<div class=\"gatsby-code-title\">bot.py</div>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"25559294920572916000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"コピーしました\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`import os\r\n\r\nimport discord\r\nfrom discord import app_commands\r\n\r\n#Discord Bot Initialize\r\nclient = discord.Client(intents=discord.Intents.default())\r\ntree = discord.app_commands.CommandTree(client)\r\n\r\nDiscordIDs = 'DiscordKeys/'\r\n\r\nwith open(os.path.join(DiscordIDs, 'token.txt'), 'r') as t,      open(os.path.join(DiscordIDs, &quot;guild_id.txt&quot;), 'r') as g:\r\n    \r\n    TOKEN = t.read()\r\n    GUILD_ID = g.read()\r\n\r\nguild=discord.Object(GUILD_ID)\r\n\r\n@tree.command(\r\n    guild=guild,\r\n    name='test',\r\n    description='test'\r\n)\r\nasync def test(ctx:discord.Integration,boolean:bool,name:discord.User,number:int=999):\r\n    await ctx.response.send_message(f&quot;{number} {boolean} {name}&quot;)\r\n\r\n@client.event\r\nasync def on_ready():\r\n    print('ready...')\r\n    await tree.sync(guild=guild)\r\n    print('synced...')\r\n\r\nclient.run(TOKEN)\r\n`, `25559294920572916000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                コピー<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token keyword\">import</span> os\r\n\r\n<span class=\"token keyword\">import</span> discord\r\n<span class=\"token keyword\">from</span> discord <span class=\"token keyword\">import</span> app_commands\r\n\r\n<span class=\"token comment\">#Discord Bot Initialize</span>\r\nclient <span class=\"token operator\">=</span> discord<span class=\"token punctuation\">.</span>Client<span class=\"token punctuation\">(</span>intents<span class=\"token operator\">=</span>discord<span class=\"token punctuation\">.</span>Intents<span class=\"token punctuation\">.</span>default<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\ntree <span class=\"token operator\">=</span> discord<span class=\"token punctuation\">.</span>app_commands<span class=\"token punctuation\">.</span>CommandTree<span class=\"token punctuation\">(</span>client<span class=\"token punctuation\">)</span>\r\n\r\nDiscordIDs <span class=\"token operator\">=</span> <span class=\"token string\">'DiscordKeys/'</span>\r\n\r\n<span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span>DiscordIDs<span class=\"token punctuation\">,</span> <span class=\"token string\">'token.txt'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'r'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> t<span class=\"token punctuation\">,</span>      <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span>DiscordIDs<span class=\"token punctuation\">,</span> <span class=\"token string\">\"guild_id.txt\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'r'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> g<span class=\"token punctuation\">:</span>\r\n    \r\n    TOKEN <span class=\"token operator\">=</span> t<span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n    GUILD_ID <span class=\"token operator\">=</span> g<span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n\r\nguild<span class=\"token operator\">=</span>discord<span class=\"token punctuation\">.</span>Object<span class=\"token punctuation\">(</span>GUILD_ID<span class=\"token punctuation\">)</span>\r\n\r\n<span class=\"token decorator annotation punctuation\">@tree<span class=\"token punctuation\">.</span>command</span><span class=\"token punctuation\">(</span>\r\n    guild<span class=\"token operator\">=</span>guild<span class=\"token punctuation\">,</span>\r\n    name<span class=\"token operator\">=</span><span class=\"token string\">'test'</span><span class=\"token punctuation\">,</span>\r\n    description<span class=\"token operator\">=</span><span class=\"token string\">'test'</span>\r\n<span class=\"token punctuation\">)</span>\r\n<span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">def</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">:</span>discord<span class=\"token punctuation\">.</span>Integration<span class=\"token punctuation\">,</span>boolean<span class=\"token punctuation\">:</span><span class=\"token builtin\">bool</span><span class=\"token punctuation\">,</span>name<span class=\"token punctuation\">:</span>discord<span class=\"token punctuation\">.</span>User<span class=\"token punctuation\">,</span>number<span class=\"token punctuation\">:</span><span class=\"token builtin\">int</span><span class=\"token operator\">=</span><span class=\"token number\">999</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r</span><span class=\"gatsby-highlight-code-line\">    <span class=\"token keyword\">await</span> ctx<span class=\"token punctuation\">.</span>response<span class=\"token punctuation\">.</span>send_message<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>number<span class=\"token punctuation\">}</span></span><span class=\"token string\"> </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>boolean<span class=\"token punctuation\">}</span></span><span class=\"token string\"> </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>name<span class=\"token punctuation\">}</span></span><span class=\"token string\">\"</span></span><span class=\"token punctuation\">)</span>\r</span>\r\n<span class=\"token decorator annotation punctuation\">@client<span class=\"token punctuation\">.</span>event</span>\r\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">def</span> <span class=\"token function\">on_ready</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ready...'</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token keyword\">await</span> tree<span class=\"token punctuation\">.</span>sync<span class=\"token punctuation\">(</span>guild<span class=\"token operator\">=</span>guild<span class=\"token punctuation\">)</span>\r\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'synced...'</span><span class=\"token punctuation\">)</span>\r\n\r\nclient<span class=\"token punctuation\">.</span>run<span class=\"token punctuation\">(</span>TOKEN<span class=\"token punctuation\">)</span>\r\n</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>コードの中身のほとんどは前回と同じです。<br>\n注目点はハイライトしている部分です。</p>\n<p><code class=\"language-text\">ctx:discord.Integration</code>はコマンドを実行したユーザーだったりコマンドに関する情報が入っています。<br>\nこの後ろにコマンドオプションを設定できます。<br>\n今回は<code class=\"language-text\">boolean:bool</code>と<code class=\"language-text\">name:discord.User</code>と<code class=\"language-text\">number:int=999</code>を設定しています。</p>\n<h3 class=\"sticky_note\">\r\n実行結果\r\n</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 663px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ce794c31af74bce452bc29c97c885a19/0786c/commandoption.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 44.57142857142857%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAArElEQVR42q2Syw7CIBBF+zlKX1haWkCkCGLsSqP//yvXgkn3rV2czSRzkntnMnke0QsN1g4oa4aiahJ5edpEFoU+TKCsBynoZtEibLlElB7z+m9ZEsa4Xa9S3F2E2jhYdwfr5D6RacMhlUmHIMV20W+fxg4HdFyAzMMDKReOebWaJLThjTB9MNowv4+BUBZcXNBytZpYW6avL4z+CecfUNpDm9t8dZfka+GDxhdo5Bwcjmz9IAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"コマンドオプションの例\"\n        title=\"コマンドオプションの例\"\n        src=\"/static/ce794c31af74bce452bc29c97c885a19/0786c/commandoption.png\"\n        srcset=\"/static/ce794c31af74bce452bc29c97c885a19/4edbd/commandoption.png 175w,\n/static/ce794c31af74bce452bc29c97c885a19/13ae7/commandoption.png 350w,\n/static/ce794c31af74bce452bc29c97c885a19/0786c/commandoption.png 663w\"\n        sizes=\"(max-width: 663px) 100vw, 663px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\r\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 345px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e3fa04fe84cc51788e18c75461f67510/e4d6b/commandoption_run.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 26.857142857142858%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAA7BAAAOwQG4kWvtAAABBklEQVR42n2QwU7CQBRF+RxjgtDSQmk7baeddloYgQALxRhc6EqjG5f+iG506de4cefPHIeqITHRxckk7809yX2dvjPEcYf0vRiTCxY6Q5YGVVYUZU5eNmR5TZhPOYgbpJ6zXJ/RHK/sXJMWDSJVuIMAx9LxgwRt1rh+hIgTJhND3Rims2s220fidIYsrDDVDCLFKJKIRBGKvGUcZQRh2spa4d39A2/vH1xc3eCNBI1ZUqiKyeyW0+0zUTK3SJK0IhaSXaPeL/ruaC88Ob/k6eWV+WrDwA8xtkpVL2xdja4VmVR0e74NfYV/gn/R6fY8DrsuR/Z1vADXG1vCdrk7w/7z+Jv/hZ9F0q9e5YcKzAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"実行例\"\n        title=\"実行例\"\n        src=\"/static/e3fa04fe84cc51788e18c75461f67510/e4d6b/commandoption_run.png\"\n        srcset=\"/static/e3fa04fe84cc51788e18c75461f67510/4edbd/commandoption_run.png 175w,\n/static/e3fa04fe84cc51788e18c75461f67510/e4d6b/commandoption_run.png 345w\"\n        sizes=\"(max-width: 345px) 100vw, 345px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>ユーザー名の後ろに<code class=\"language-text\">テスト#数字</code>と数字がついて表示されますが、画像中では隠しています。</p>\n<p>オプションの設定は<code class=\"language-text\">変数名:型=デフォルト値</code>という形で設定できます。<br>\nデフォルト値は省略可能です。（実行例では1を入力しています。）</p>\n<p>ここで<span class=\"highlighter_red\">コマンドオプションを使用する上での注意点</span>を説明します。</p>\n<ol>\n<li>オプションに使用できる変数は<span class=\"highlighter_yellow\"><strong>小文字のみ</strong></span>です。</li>\n<li>デフォルト値は省略可能です。省略された場合、<span class=\"highlighter_yellow\"><strong>必須オプション</strong></span>となります。</li>\n<li>デフォルト値が設定されている場合、他のオプションとなり<span class=\"highlighter_yellow\"><strong>省略可能</strong></span>になります。</li>\n<li>必須オプションの場合、コマンドを実行する際に<span class=\"highlighter_yellow\"><strong>必要なオプション</strong></span>となります。</li>\n<li>デフォルト値を設定する際には<span class=\"highlighter_red\"><strong>オプションの順番を最後に設定する必要があります。</strong></span></li>\n<li>デフォルト値に<code class=\"language-text\">None</code>を設定することで初期値を設定せず、<span class=\"highlighter_yellow\"><strong>他のオプション</strong></span>にできます。（変数には<code class=\"language-text\">None</code>が当然入ります。）</li>\n</ol>\n<h3 class=\"sticky_note\">エラー例</h3>\r\nコマンドオプションが未入力の場合のエラー表示  \n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 488px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/441f913ccbd6d5a56dc32d41f3057206/bd48c/commandoptionerror.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 18.857142857142858%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAwklEQVR42n3O20rDUBCF4bxMJaU57XN2spvG3doqUqhgEQ/v/xq/o+ZCvPDiYxbMwKzi9f2DnI8M65q7RpHrjiT24tJqDo1mWysexVXsRag6ZtlnyU3VUm5a1otil0+kKeN8QtuR1gg1YGRuladXlr5zJD+SQsLbiBXeDQRhJOtfisPDG8/XF/L9E2UXsHHiplKsKo9tDVY7NquSPB+5PZ0JcSaOmX4R/yiMfLZuxLhE5ydU2P2Q3EuDuLBfbb7v/vcJOpWEG4JAAtkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"コマンドオプションエラーの例\"\n        title=\"コマンドオプションエラーの例\"\n        src=\"/static/441f913ccbd6d5a56dc32d41f3057206/bd48c/commandoptionerror.png\"\n        srcset=\"/static/441f913ccbd6d5a56dc32d41f3057206/4edbd/commandoptionerror.png 175w,\n/static/441f913ccbd6d5a56dc32d41f3057206/13ae7/commandoptionerror.png 350w,\n/static/441f913ccbd6d5a56dc32d41f3057206/bd48c/commandoptionerror.png 488w\"\n        sizes=\"(max-width: 488px) 100vw, 488px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<div class=\"gatsby-code-title\">注意点5のエラー例</div>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"938473078721347000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"コピーしました\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`async def test(ctx:discord.Integration,number:int=999,boolean:bool,name:discord.User):`, `938473078721347000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                コピー<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">def</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">:</span>discord<span class=\"token punctuation\">.</span>Integration<span class=\"token punctuation\">,</span>number<span class=\"token punctuation\">:</span><span class=\"token builtin\">int</span><span class=\"token operator\">=</span><span class=\"token number\">999</span><span class=\"token punctuation\">,</span>boolean<span class=\"token punctuation\">:</span><span class=\"token builtin\">bool</span><span class=\"token punctuation\">,</span>name<span class=\"token punctuation\">:</span>discord<span class=\"token punctuation\">.</span>User<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>コマンドオプションで指定できる型はさまざまで挙げきれないので、割愛します。<br>\n基本的には以下の型が使用できると知っていればBot作りには困らないと思います。</p>\n<ul>\n<li>int</li>\n<li>float</li>\n<li>bool</li>\n<li>str</li>\n<li>Literal</li>\n</ul>\n<p>Literalは少し特殊で、<br>\n<code class=\"language-text\">from typing import Literal</code>をインポートする必要があります。<br>\nまた、Literalでは以下のように選択肢を設定できます。<br>\n<code class=\"language-text\">your_choice:Literal[\"グー\",\"チョキ\",\"パー\"]</code><br>\nこのように設定することで、<code class=\"language-text\">グー</code>、<code class=\"language-text\">チョキ</code>、<code class=\"language-text\">パー</code>の3つの選択肢を設定できます。<br>\n注意として、選択肢の<span class=\"highlighter_red\">最大数は25個</span>です。</p>\n<p>また、今回例で使用した<code class=\"language-text\">discord.User</code>はユーザーのIDを取得するためのものです。\r\n他にもdiscord特有の使用できる型があります。</p>\n<p><a href=\"https://discordpy.readthedocs.io/ja/latest/ext/commands/commands.html#discord-converters\" target=”_blank” class=\"link\" title=\"Discord.pyのリファレンス\" >Disocrd.pyのリファレンス</a></p>\n<p>上記のリファレンスを参考にすると幅広いBot作りができると思います。</p>\n<p>また、オプションで作成した変数はコマンド内で使用できます。<br>\n今回の例ではそのまま出力していますが、変数を使用して処理を行うこともできます。</p>\n<h2 class=\"sticky_note\">\r\nじゃんけんBotの作成\r\n</h2>\n<p>オプションの機能を理解したところで肝心のじゃんけんBotを作成していきましょう。<br>\nといっても今回学んだオプションとじゃんけん部分の処理があるだけなので、<br>\nいきなりコードを貼り付けます。</p>\n<div class=\"gatsby-code-title\">bot.py</div>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"2217331837986114000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"コピーしました\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`import os\r\nimport random\r\nfrom typing import Literal\r\n\r\nimport discord\r\nfrom discord import app_commands\r\n\r\n#Discord Bot Initialize\r\nclient = discord.Client(intents=discord.Intents.default())\r\ntree = discord.app_commands.CommandTree(client)\r\n\r\nDiscordIDs = 'DiscordKeys/'\r\n\r\nwith open(os.path.join(DiscordIDs, 'token.txt'), 'r') as t,      open(os.path.join(DiscordIDs, &quot;guild_id.txt&quot;), 'r') as g:\r\n    \r\n    TOKEN = t.read()\r\n    GUILD_ID = g.read()\r\n\r\nguild=discord.Object(GUILD_ID)\r\n\r\n@tree.command(\r\n    guild=guild,\r\n    name='janken',\r\n    description='じゃんけんゲーム'\r\n)\r\n@discord.app_commands.describe(\r\n    your_choice=&quot;あなたの手&quot;,\r\n)\r\nasync def greet(ctx:discord.Integration,your_choice:Literal[&quot;グー&quot;,&quot;チョキ&quot;,&quot;パー&quot;]):\r\n    cpu_choice=random.choice([&quot;グー&quot;,&quot;チョキ&quot;,&quot;パー&quot;])\r\n    if cpu_choice==your_choice:\r\n        await ctx.response.send_message(f&quot;CPUの手は{cpu_choice}、あなたの手は{your_choice}\\n結果:あいこ&quot;)\r\n    else:\r\n        if (your_choice==&quot;グー&quot; and cpu_choice==&quot;チョキ&quot;) or (your_choice==&quot;チョキ&quot; and cpu_choice==&quot;パー&quot;) or (your_choice==&quot;パー&quot; and cpu_choice==&quot;グー&quot;):\r\n            await ctx.response.send_message(f&quot;CPUの手は{cpu_choice}、あなたの手は{your_choice}\\n結果:あなたの勝ち&quot;)\r\n        else:\r\n            await ctx.response.send_message(f&quot;CPUの手は{cpu_choice}、あなたの手は{your_choice}\\n結果:あなたの負け&quot;)\r\n\r\n@client.event\r\nasync def on_ready():\r\n    print('ready...')\r\n    await tree.sync(guild=guild)\r\n    print('synced...')\r\n\r\nclient.run(TOKEN)\r\n`, `2217331837986114000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                コピー<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token keyword\">import</span> os\r\n<span class=\"token keyword\">import</span> random\r\n<span class=\"token keyword\">from</span> typing <span class=\"token keyword\">import</span> Literal\r\n\r\n<span class=\"token keyword\">import</span> discord\r\n<span class=\"token keyword\">from</span> discord <span class=\"token keyword\">import</span> app_commands\r\n\r\n<span class=\"token comment\">#Discord Bot Initialize</span>\r\nclient <span class=\"token operator\">=</span> discord<span class=\"token punctuation\">.</span>Client<span class=\"token punctuation\">(</span>intents<span class=\"token operator\">=</span>discord<span class=\"token punctuation\">.</span>Intents<span class=\"token punctuation\">.</span>default<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\r\ntree <span class=\"token operator\">=</span> discord<span class=\"token punctuation\">.</span>app_commands<span class=\"token punctuation\">.</span>CommandTree<span class=\"token punctuation\">(</span>client<span class=\"token punctuation\">)</span>\r\n\r\nDiscordIDs <span class=\"token operator\">=</span> <span class=\"token string\">'DiscordKeys/'</span>\r\n\r\n<span class=\"token keyword\">with</span> <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span>DiscordIDs<span class=\"token punctuation\">,</span> <span class=\"token string\">'token.txt'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'r'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> t<span class=\"token punctuation\">,</span>      <span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>os<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span>DiscordIDs<span class=\"token punctuation\">,</span> <span class=\"token string\">\"guild_id.txt\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'r'</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> g<span class=\"token punctuation\">:</span>\r\n    \r\n    TOKEN <span class=\"token operator\">=</span> t<span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n    GUILD_ID <span class=\"token operator\">=</span> g<span class=\"token punctuation\">.</span>read<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n\r\nguild<span class=\"token operator\">=</span>discord<span class=\"token punctuation\">.</span>Object<span class=\"token punctuation\">(</span>GUILD_ID<span class=\"token punctuation\">)</span>\r\n\r\n<span class=\"token decorator annotation punctuation\">@tree<span class=\"token punctuation\">.</span>command</span><span class=\"token punctuation\">(</span>\r\n    guild<span class=\"token operator\">=</span>guild<span class=\"token punctuation\">,</span>\r\n    name<span class=\"token operator\">=</span><span class=\"token string\">'janken'</span><span class=\"token punctuation\">,</span>\r\n    description<span class=\"token operator\">=</span><span class=\"token string\">'じゃんけんゲーム'</span>\r\n<span class=\"token punctuation\">)</span>\r\n<span class=\"token decorator annotation punctuation\">@discord<span class=\"token punctuation\">.</span>app_commands<span class=\"token punctuation\">.</span>describe</span><span class=\"token punctuation\">(</span>\r\n    your_choice<span class=\"token operator\">=</span><span class=\"token string\">\"あなたの手\"</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">)</span>\r\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">def</span> <span class=\"token function\">greet</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">:</span>discord<span class=\"token punctuation\">.</span>Integration<span class=\"token punctuation\">,</span>your_choice<span class=\"token punctuation\">:</span>Literal<span class=\"token punctuation\">[</span><span class=\"token string\">\"グー\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"チョキ\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"パー\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n    cpu_choice<span class=\"token operator\">=</span>random<span class=\"token punctuation\">.</span>choice<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"グー\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"チョキ\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"パー\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token keyword\">if</span> cpu_choice<span class=\"token operator\">==</span>your_choice<span class=\"token punctuation\">:</span>\r\n        <span class=\"token keyword\">await</span> ctx<span class=\"token punctuation\">.</span>response<span class=\"token punctuation\">.</span>send_message<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"CPUの手は</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>cpu_choice<span class=\"token punctuation\">}</span></span><span class=\"token string\">、あなたの手は</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>your_choice<span class=\"token punctuation\">}</span></span><span class=\"token string\">\\n結果:あいこ\"</span></span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>your_choice<span class=\"token operator\">==</span><span class=\"token string\">\"グー\"</span> <span class=\"token keyword\">and</span> cpu_choice<span class=\"token operator\">==</span><span class=\"token string\">\"チョキ\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">or</span> <span class=\"token punctuation\">(</span>your_choice<span class=\"token operator\">==</span><span class=\"token string\">\"チョキ\"</span> <span class=\"token keyword\">and</span> cpu_choice<span class=\"token operator\">==</span><span class=\"token string\">\"パー\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">or</span> <span class=\"token punctuation\">(</span>your_choice<span class=\"token operator\">==</span><span class=\"token string\">\"パー\"</span> <span class=\"token keyword\">and</span> cpu_choice<span class=\"token operator\">==</span><span class=\"token string\">\"グー\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n            <span class=\"token keyword\">await</span> ctx<span class=\"token punctuation\">.</span>response<span class=\"token punctuation\">.</span>send_message<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"CPUの手は</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>cpu_choice<span class=\"token punctuation\">}</span></span><span class=\"token string\">、あなたの手は</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>your_choice<span class=\"token punctuation\">}</span></span><span class=\"token string\">\\n結果:あなたの勝ち\"</span></span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\r\n            <span class=\"token keyword\">await</span> ctx<span class=\"token punctuation\">.</span>response<span class=\"token punctuation\">.</span>send_message<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"CPUの手は</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>cpu_choice<span class=\"token punctuation\">}</span></span><span class=\"token string\">、あなたの手は</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>your_choice<span class=\"token punctuation\">}</span></span><span class=\"token string\">\\n結果:あなたの負け\"</span></span><span class=\"token punctuation\">)</span>\r\n\r\n<span class=\"token decorator annotation punctuation\">@client<span class=\"token punctuation\">.</span>event</span>\r\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">def</span> <span class=\"token function\">on_ready</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ready...'</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token keyword\">await</span> tree<span class=\"token punctuation\">.</span>sync<span class=\"token punctuation\">(</span>guild<span class=\"token operator\">=</span>guild<span class=\"token punctuation\">)</span>\r\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">'synced...'</span><span class=\"token punctuation\">)</span>\r\n\r\nclient<span class=\"token punctuation\">.</span>run<span class=\"token punctuation\">(</span>TOKEN<span class=\"token punctuation\">)</span>\r\n</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>じゃんけんBotの処理部分のみ切り抜きます。</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"13416983446740361000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"コピーしました\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`@tree.command(\r\n    guild=guild,\r\n    name='janken',\r\n    description='じゃんけんゲーム'\r\n)\r\n@discord.app_commands.describe(\r\n    your_choice=&quot;あなたの手&quot;,\r\n)\r\nasync def greet(ctx:discord.Integration,your_choice:Literal[&quot;グー&quot;,&quot;チョキ&quot;,&quot;パー&quot;]):\r\n    cpu_choice=random.choice([&quot;グー&quot;,&quot;チョキ&quot;,&quot;パー&quot;])\r\n    if cpu_choice==your_choice:\r\n        await ctx.response.send_message(f&quot;CPUの手は{cpu_choice}、あなたの手は{your_choice}\\n結果:あいこ&quot;)\r\n    else:\r\n        if (your_choice==&quot;グー&quot; and cpu_choice==&quot;チョキ&quot;) or (your_choice==&quot;チョキ&quot; and cpu_choice==&quot;パー&quot;) or (your_choice==&quot;パー&quot; and cpu_choice==&quot;グー&quot;):\r\n            await ctx.response.send_message(f&quot;CPUの手は{cpu_choice}、あなたの手は{your_choice}\\n結果:あなたの勝ち&quot;)\r\n        else:\r\n            await ctx.response.send_message(f&quot;CPUの手は{cpu_choice}、あなたの手は{your_choice}\\n結果:あなたの負け&quot;)`, `13416983446740361000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                コピー<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token decorator annotation punctuation\">@tree<span class=\"token punctuation\">.</span>command</span><span class=\"token punctuation\">(</span>\r\n    guild<span class=\"token operator\">=</span>guild<span class=\"token punctuation\">,</span>\r\n    name<span class=\"token operator\">=</span><span class=\"token string\">'janken'</span><span class=\"token punctuation\">,</span>\r\n    description<span class=\"token operator\">=</span><span class=\"token string\">'じゃんけんゲーム'</span>\r\n<span class=\"token punctuation\">)</span>\r\n<span class=\"token decorator annotation punctuation\">@discord<span class=\"token punctuation\">.</span>app_commands<span class=\"token punctuation\">.</span>describe</span><span class=\"token punctuation\">(</span>\r\n    your_choice<span class=\"token operator\">=</span><span class=\"token string\">\"あなたの手\"</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">)</span>\r\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">def</span> <span class=\"token function\">greet</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">:</span>discord<span class=\"token punctuation\">.</span>Integration<span class=\"token punctuation\">,</span>your_choice<span class=\"token punctuation\">:</span>Literal<span class=\"token punctuation\">[</span><span class=\"token string\">\"グー\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"チョキ\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"パー\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n    cpu_choice<span class=\"token operator\">=</span>random<span class=\"token punctuation\">.</span>choice<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"グー\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"チョキ\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"パー\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token keyword\">if</span> cpu_choice<span class=\"token operator\">==</span>your_choice<span class=\"token punctuation\">:</span>\r\n        <span class=\"token keyword\">await</span> ctx<span class=\"token punctuation\">.</span>response<span class=\"token punctuation\">.</span>send_message<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"CPUの手は</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>cpu_choice<span class=\"token punctuation\">}</span></span><span class=\"token string\">、あなたの手は</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>your_choice<span class=\"token punctuation\">}</span></span><span class=\"token string\">\\n結果:あいこ\"</span></span><span class=\"token punctuation\">)</span>\r\n    <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\r\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>your_choice<span class=\"token operator\">==</span><span class=\"token string\">\"グー\"</span> <span class=\"token keyword\">and</span> cpu_choice<span class=\"token operator\">==</span><span class=\"token string\">\"チョキ\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">or</span> <span class=\"token punctuation\">(</span>your_choice<span class=\"token operator\">==</span><span class=\"token string\">\"チョキ\"</span> <span class=\"token keyword\">and</span> cpu_choice<span class=\"token operator\">==</span><span class=\"token string\">\"パー\"</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">or</span> <span class=\"token punctuation\">(</span>your_choice<span class=\"token operator\">==</span><span class=\"token string\">\"パー\"</span> <span class=\"token keyword\">and</span> cpu_choice<span class=\"token operator\">==</span><span class=\"token string\">\"グー\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\r\n            <span class=\"token keyword\">await</span> ctx<span class=\"token punctuation\">.</span>response<span class=\"token punctuation\">.</span>send_message<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"CPUの手は</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>cpu_choice<span class=\"token punctuation\">}</span></span><span class=\"token string\">、あなたの手は</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>your_choice<span class=\"token punctuation\">}</span></span><span class=\"token string\">\\n結果:あなたの勝ち\"</span></span><span class=\"token punctuation\">)</span>\r\n        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\r\n            <span class=\"token keyword\">await</span> ctx<span class=\"token punctuation\">.</span>response<span class=\"token punctuation\">.</span>send_message<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f\"CPUの手は</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>cpu_choice<span class=\"token punctuation\">}</span></span><span class=\"token string\">、あなたの手は</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>your_choice<span class=\"token punctuation\">}</span></span><span class=\"token string\">\\n結果:あなたの負け\"</span></span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>ただじゃんけんBotを作成しても面白くないので、<br>\n新たにオプションの説明追加しました。<br>\nそちらの説明もします。</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"38073435728813160000\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"コピーしました\"\n              data-toaster-duration=\"3000\"\n              onClick=\"copyToClipboard(`@discord.app_commands.describe(\r\n    your_choice=&quot;あなたの手&quot;,\r\n)`, `38073435728813160000`)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                コピー<svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token decorator annotation punctuation\">@discord<span class=\"token punctuation\">.</span>app_commands<span class=\"token punctuation\">.</span>describe</span><span class=\"token punctuation\">(</span>\r\n    your_choice<span class=\"token operator\">=</span><span class=\"token string\">\"あなたの手\"</span><span class=\"token punctuation\">,</span>\r\n<span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<h3 class=\"sticky_note\">\r\n実行結果\r\n</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 651px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b9827e6377504af68a51ea7863ed4480/1ac66/janken_option.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.14285714285714%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAqUlEQVR42q2RWwrCMBBFsxrpK682SW0SSx8fSh/QquCf+9/FNXYBUrAfh2E+7nCYS6xvQHmBlMpDILq0ELlBkoljDipj4evuSEMHITWilG+W/5oSFv4npMJ3ZizfSDKOOGWIk/1EMQ0ZDlK3V9yGBeO0wNU97KWDMm4rigm9C8p16KFEriqQfnijvz4xzXcUtsOJGVDlEUkLE/azbX5SuTYIeIzzivXxwgelXdzKDfVkmAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"じゃんけんBot実行結果\"\n        title=\"じゃんけんBot実行結果\"\n        src=\"/static/b9827e6377504af68a51ea7863ed4480/1ac66/janken_option.png\"\n        srcset=\"/static/b9827e6377504af68a51ea7863ed4480/4edbd/janken_option.png 175w,\n/static/b9827e6377504af68a51ea7863ed4480/13ae7/janken_option.png 350w,\n/static/b9827e6377504af68a51ea7863ed4480/1ac66/janken_option.png 651w\"\n        sizes=\"(max-width: 651px) 100vw, 651px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\r\nオプションで指定した変数名に対して説明を設定できます。<br>\nこれを設定することでオプションの選択肢部分に説明が追加されます。<br>\n今回の場合は<code class=\"language-text\">あなたの手</code>が選択肢に追加されます。</p>\n<p><span class=\"highlighter_yellow\">Botを使用するユーザー目線で使いやすいBotを目指すには覚えておいて損はないです。</span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 463px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/205acfa9dad5209637b07217409a24dd/71ce0/janken_run.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 24.571428571428573%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA3klEQVR42nWPSQrCMBiFPY4gYm2bDramdWhCrJ2kaItuxGO4cuNO8ASu3HnI528VFw6LjySE9/heq93R0NNszCccQihEMiEyhCMBd6TQ9iSccYwkLSFkimAs4fMp+obzk9bheEJaVODhFGoWIy/3KFZneHyCYShh8wh9ywezPBhs8EY33d+Fl+sN1WZHYYGsWCHJazprBPQeBhHyRQWpEiKjv5Ls42YFsz1ouv1d2NUYuj3WBOv1lmyXUHGGRbkmKgr6MMnIJMPH3bAGDX8nP9Xdrznma2JjoTt/Cz4L74W1rbDhGs6+AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"じゃんけんBot実行結果\"\n        title=\"じゃんけんBot実行結果\"\n        src=\"/static/205acfa9dad5209637b07217409a24dd/71ce0/janken_run.png\"\n        srcset=\"/static/205acfa9dad5209637b07217409a24dd/4edbd/janken_run.png 175w,\n/static/205acfa9dad5209637b07217409a24dd/13ae7/janken_run.png 350w,\n/static/205acfa9dad5209637b07217409a24dd/71ce0/janken_run.png 463w\"\n        sizes=\"(max-width: 463px) 100vw, 463px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\r\n実際に選択肢を選択してコマンドを実行すると、じゃんけんを実行しその結果を返します。</p>\n<h2 class=\"sticky_note\">\r\nまとめ\r\n</h2>\n<p>今回はコマンドオプションの基本的な使い方を説明しました。<br>\nコマンドオプションはBotを作成する上で必須の知識です。</p>\n<p>途中でLiteralを使いオプションの選択肢を設定する方法を説明しましたが、<br>\n<span class=\"highlighter_yellow\">オートコンプリート機能を使い、strの型で似たようなことができます。</span><br>\nこちらもLiteral同様選択肢を25個まで設定が可能で、<br>\n違いとしては<span class=\"highlighter_yellow\">Literalは指定した選択肢のみ使用できる</span>のに対し、<br>\nこちらはあくまで型はstrなので<span class=\"highlighter_red\">選択肢以外の入力</span>も受け付けます。</p>\n<p>こちらの機能についてはまた別の記事で紹介できればと思います。</p>\n<p>今回説明した内容をまとめると以下のようになります。</p>\n<ol>\n<li>オプション機能の記載方法<br>\n<code class=\"language-text\">async def test(ctx:discord.Integration,option:str):</code></li>\n<li>オプションの設定は<code class=\"language-text\">変数名:型=デフォルト値</code>という形で設定でき、<span class=\"highlighter_red\">デフォルト値は省略可能です。</span></li>\n<li>オプションの種類は<span class=\"highlighter_red\">必須オプションと他のオプション</span>に分かれます。</li>\n<li>必須オプションはデフォルト値を設定されてない場合に<span class=\"highlighter_red\">自動で設定されコマンド実行時に必要</span>になります。</li>\n<li>オプションの値はコマンド中で使用可能です。</li>\n</ol>\n<p>これらの知識があれば、スロットBotや今回作成したじゃんけんBotのような応用次第で様々なBotを作成できると思います。</p>\n<p>では、良きDiscordBotライフを！</p>","frontmatter":{"date":"November 19,2023","path":"/blogs/2023-11-19-DiscordBotCommandsOption","title":"Discord Botのコマンドオプション","tags":["Discord","Bot","Python","Programming"],"description":"Discord.pyによるDiscord Botのコマンドオプション基本のキ","cardImage":{"publicURL":"/static/75f88ed3970d2425eafe423082ba8019/discord.png","absolutePath":"C:/Users/smoot/Documents/Projects/smoothie1023.github.io/src/pages/blogs/2023/2023-11-19-DiscordBotコマンドオプション/discord.png","dir":"C:/Users/smoot/Documents/Projects/smoothie1023.github.io/src/pages/blogs/2023/2023-11-19-DiscordBotコマンドオプション","name":"discord"}}}},"pageContext":{}},"staticQueryHashes":["3287021566"],"slicesMap":{}}